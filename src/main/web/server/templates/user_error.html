<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Period Countdown</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/user_error.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/common.css') }}">
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <meta charset="UTF-8">
  </head>
  <body>
    <!-- Control buttons -->
    <div id="controls">
      <button onclick="location.href = 'settings';">Settings</button>
      <button onclick="location.href = 'logout';">Sign Out</button>
    </div>

    <!-- User-friendly error message -->
    <div id="user_facing_message">
      <div id="user_facing_message_title">{{ user_facing_message }}</div>
      <ul>
        <li>Try uploading or selecting a new school data file in Settings.</li>
        <li>The website may be temporarily unavailable or busy. Try again in a few moment.</li>
        <li>If the error persists, file a report.</li>
      </ul>
    </div>

    <!-- Error report and hide/display button -->
    <button id="error_report_button" onclick="toggleErrorReport()">Details</button>
    <div id="error_report" style="display: none;">
      <div>Opcode: {{ opcode }}</div>
      <div>UserID: {{ user_id }}</div>
      <div>ReturnCode: {{ return_code }}</div>
      <div>Message: {{ message }}</div>
    </div>

    <script type="text/javascript">
      function toggleErrorReport() {
          let errorReportDiv = document.getElementById("error_report");
          errorReportDiv.style.display = errorReportDiv.style.display === "none" ? "block" : "none";
      }
    </script>
  </body>
</html>
