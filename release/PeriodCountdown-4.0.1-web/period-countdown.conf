<VirtualHost *:80>
	ServerName periodcountdown.net
	Redirect permanent / https://periodcountdown.net
</VirtualHost>


<VirtualHost *:443>
    DocumentRoot /var/www/Period-Countdown-WSGI/server
    ServerName periodcountdown.net

    WSGIDaemonProcess pcflask user=www-data group=www-data threads=5
    WSGIScriptAlias / /var/www/Period-Countdown-WSGI/server/pc_server.wsgi

    SSLEngine On
    SSLCertificateFile /etc/letsencrypt/live/periodcountdown.net/cert.pem
    SSLCertificateKeyFile /etc/letsencrypt/live/periodcountdown.net/privkey.pem
    SSLCertificateChainFile /etc/letsencrypt/live/periodcountdown.net/fullchain.pem

    <Directory /var/www/Period-Countdown-WSGI/server>
        WSGIProcessGroup pcflask
        WSGIApplicationGroup %{GLOBAL}
        Require all granted
    </Directory>

    Alias /static /var/www/Period-Countdown-WSGI/server/static
    <Directory /var/www/Period-Countdown-WSGI/server/static/>
        Require all granted
    </Directory>

    ErrorLog /var/www/Period-Countdown-WSGI/logs/error.log
	CustomLog /var/www/Period-Countdown-WSGI/logs/access.log combined
</VirtualHost>